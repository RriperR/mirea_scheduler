# MIREA Schedule Analyzer

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –ú–ò–†–≠–ê –∏ –≤—ã—è–≤–ª—è–µ—Ç –Ω–µ—É–¥–æ–±–Ω—ã–µ –º–µ—Å—Ç–∞ ("—É–∑–∫–∏–µ –º–µ—Å—Ç–∞"), —Ç–∞–∫–∏–µ –∫–∞–∫:
- –î–ª–∏–Ω–Ω—ã–µ –æ–∫–Ω–∞ –º–µ–∂–¥—É –ø–∞—Ä–∞–º–∏
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É –∫–æ—Ä–ø—É—Å–∞–º–∏
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω—è—Ç–∏–π

–î–∞–Ω–Ω—ã–µ –æ–± –æ—à–∏–±–∫–∞—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **PostgreSQL**, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ **Celery**, –∞ **Redis** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥—å—é –∑–∞–ø—Ä–æ—Å–æ–≤.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
### **1Ô∏è‚É£ –ü–æ–∏—Å–∫ –Ω–µ—É–¥–æ–±—Å—Ç–≤ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏**
üîπ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ API –ú–ò–†–≠–ê `https://schedule-of.mirea.ru/schedule/api/search`  
üîπ –î–æ—Å—Ç—É–ø–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ **–≥—Ä—É–ø–ø–µ** –∏ **–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é**
`GET /api/issueslist/?group=–ò–í–ë–û-01-23&teacher=–ò–≤–∞–Ω–æ–≤%20–ò.–ò.`

### **2Ô∏è‚É£ API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏**
üîπ `GET /api/issueslist/` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏  
üîπ `POST /api/schedule/process/` - –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–æ–Ω–æ–≤—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É  
üîπ `GET /api/schedule/process/{task_id}/` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏  

### **3Ô∏è‚É£ –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á**
üîπ –°–µ—Ä–≤–∏—Å **–Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∑–∞–ø—Ä–æ—Å—ã**  
üîπ –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞**, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å  
üîπ –†–∞–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (—Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏) —Å—Ç–∞–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –æ—Ç–¥–µ–ª—å–Ω–æ

---

## üì° API –û—Ç–≤–µ—Ç—ã
### **1Ô∏è‚É£ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏**
`GET /api/issueslist/`

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
    "issues": [
        {
            "id": 1,
            "issue_type": "–û–∫–Ω–æ –º–µ–∂–¥—É –ø–∞—Ä–∞–º–∏",
            "description": "–ü–µ—Ä–µ—Ä—ã–≤ –º–µ–∂–¥—É –∑–∞–Ω—è—Ç–∏—è–º–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 3 —á–∞—Å–∞",
            "related_event": {
                "summary": "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
                "start_time": "2025-02-28T10:00:00Z",
                "end_time": "2025-02-28T11:30:00Z",
                "location": "–ö–æ—Ä–ø—É—Å 1, –ê—É–¥. 105",
                "teacher": "–ò–≤–∞–Ω–æ–≤ –ò.–ò.",
                "group": "–ò–í–ë–û-01-23"
            },
            "related_event_2": {
                "summary": "–§–∏–∑–∏–∫–∞",
                "start_time": "2025-02-28T15:00:00Z",
                "end_time": "2025-02-28T16:30:00Z",
                "location": "–ö–æ—Ä–ø—É—Å 2, –ê—É–¥. 201",
                "teacher": "–ü–µ—Ç—Ä–æ–≤ –ü.–ü.",
                "group": "–ò–í–ë–û-01-23"
            },
            "last_updated": "2025-02-28T08:00:00Z"
        }
    ]
}
```

### **2Ô∏è‚É£ –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏**
`POST /api/schedule/process/`

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
    "task_id": "a123b456-c789-d012-e345-f67890abcdef",
    "status": "STARTED",
    "result": []
}
```

### **3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏**
`GET /api/schedule/process/{task_id}/`

–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–∞:
```json
{
    "task_id": "a123b456-c789-d012-e345-f67890abcdef",
    "status": "PENDING",
    "result": []
}
```

```json
{
    "task_id": "a123b456-c789-d012-e345-f67890abcdef",
    "status": "IN QUEUE",
    "result": []
}
```

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞, –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞:
```json
{
    "task_id": "a123b456-c789-d012-e345-f67890abcdef",
    "status": "SUCCESS",
    "result": [
        {
            "id": 1,
            "issue_type": "–û–∫–Ω–æ –º–µ–∂–¥—É –ø–∞—Ä–∞–º–∏",
            "description": "–ü–µ—Ä–µ—Ä—ã–≤ –º–µ–∂–¥—É –∑–∞–Ω—è—Ç–∏—è–º–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 3 —á–∞—Å–∞",
            "related_event": {
                "summary": "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
                "start_time": "2025-02-28T10:00:00Z",
                "end_time": "2025-02-28T11:30:00Z",
                "location": "–ö–æ—Ä–ø—É—Å 1, –ê—É–¥. 105",
                "teacher": "–ò–≤–∞–Ω–æ–≤ –ò.–ò.",
                "group": "–ò–í–ë–û-01-23"
            },
            "related_event_2": {
                "summary": "–§–∏–∑–∏–∫–∞",
                "start_time": "2025-02-28T15:00:00Z",
                "end_time": "2025-02-28T16:30:00Z",
                "location": "–ö–æ—Ä–ø—É—Å 2, –ê—É–¥. 201",
                "teacher": "–ü–µ—Ç—Ä–æ–≤ –ü.–ü.",
                "group": "–ò–í–ë–û-01-23"
            }
        }
    ]
}
```

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
### **1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```sh
git clone https://github.com/your-repo/mirea-schedule-analyzer.git
cd mirea-schedule-analyzer
```

### **2Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª**
```sh
SECRET_KEY="your-secret-key"
DEBUG=False
DB_NAME=issues_db
DB_USER=postgres
DB_PASSWORD=yourpassword
DB_HOST=db
DB_PORT=5432
CELERY_BROKER_URL=redis://redis:6379/0
```

### **3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**
```sh
docker-compose up --build
```

–≠—Ç–æ –ø–æ–¥–Ω–∏–º–µ—Ç:
- `web` - Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ `localhost:8000`
- `db` - PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- `redis` - –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Celery
- `celery` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
- `celery-beat` - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á

### **4Ô∏è‚É£ –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Ä—É—á–Ω—É—é**
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É —á–µ—Ä–µ–∑ API:
```sh
curl -X POST "http://127.0.0.1:8000/api/schedule/process/"
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```sh
curl -X GET "http://127.0.0.1:8000/api/schedule/process/{task_id}/"
```

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Django REST Framework** - API-—Å–µ—Ä–≤–µ—Ä
- **Celery + Redis** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á –≤ —Ñ–æ–Ω–µ
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Docker + Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

---


